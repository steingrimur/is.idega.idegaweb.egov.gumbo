<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:idega="http://idega.com/xforms"
    xmlns:xf="http://www.w3.org/2002/xforms"
    xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    
    <head>
        <title>
            <xf:output model="data_model" ref="instance('localized_strings')/form-title[@lang=instance('localized_strings')/current_language]"/>
        </title>
        
        <link rel="stylesheet" type="text/css" href="/idegaweb/bundles/is.idega.idegaweb.egov.gumbo.bundle/resources/style/gumbo.css" />
        <link rel="stylesheet" media="print" type="text/css" href="/idegaweb/bundles/is.idega.idegaweb.egov.gumbo.bundle/resources/style/aqua-culture-print.css" />
        <script type="text/javascript" src="/idegaweb/bundles/is.idega.idegaweb.egov.gumbo.bundle/resources/javascript/aquacultureReport.js"></script>
        
        
        <xf:model id="submission_model" schema="#fb-schema">
            <xf:instance id="data-instance" xmlns="">
                <data>
                    <form_id>7166</form_id>
                    <saveFormData>
                        <submissionId/>
                    </saveFormData>
                    
                    <companyData>
                        <socialSecurityNr mapping="string_companySocialNumber"/>
                        <name mapping="string_companyName"/>
                        <address mapping="string_companyAddress"/>
                    </companyData>
                    
                    <reportForTheYear mapping="string_reportForTheYear"/>
                    <reportForTheFarm mapping="string_reportForTheFarm"/>
                    <reportForTheFarmOutput mapping="string_reportForTheFarmOutput"/>
                    
                    <farmStructure mapping="objlist_farmStructure">
                        <list>
                            <row>
                                <speciesGroup/>
                                <speciesGroupOutput/>
                                <aquamethod/>
                                <aquamethodOutput/>
                                <aquaEnvironment/>
                                <aquaEnvironmentOutput/>                                
                                <size xsi:type="xsd:float" xsi:nil="true"/>
                                <sizeOutput/>
                                <unit/>
                                <unitOutput/>
                            </row>
                            <row>
                                <speciesGroup/>
                                <speciesGroupOutput/>
                                <aquamethod/>
                                <aquamethodOutput/>
                                <aquaEnvironment/>
                                <aquaEnvironmentOutput/>                                
                                <size xsi:type="xsd:float" xsi:nil="true"/>
                                <sizeOutput/>
                                <unit/>
                                <unitOutput/>
                            </row>
                        </list>
                        <trigger/>
                    </farmStructure>
                    
                    <fishedForOnGrowing mapping="objlist_fishedForOnGrowing">
                        <list>
                            <row>
                                <speciesGroup/>
                                <speciesGroupOutput/>
                                <species/>
                                <speciesOutput/>
                                <count/>
                                <countOutput/>
                                <weight xsi:type="xsd:float" xsi:nil="true"/>
                                <weightOutput/>
                                <kg xsi:type="xsd:float" xsi:nil="true"/>
                                <kgOutput/>
                            </row>
                            <row>
                                <speciesGroup/>
                                <speciesGroupOutput/>
                                <species/>
                                <speciesOutput/>
                                <count/>
                                <countOutput/>
                                <weight xsi:type="xsd:float" xsi:nil="true"/>
                                <weightOutput/>
                                <kg xsi:type="xsd:float" xsi:nil="true"/>
                                <kgOutput/>
                            </row>
                        </list>
                        <trigger/>
                    </fishedForOnGrowing>
                    
                    
                    <sales mapping="objlist_sales">
                        <list>
                            <row>
                                <speciesGroup/>
                                <speciesGroupOutput/>
                                <aquamethod/>
                                <aquamethodOutput/>
                                <aquaEnvironment/>
                                <aquaEnvironmentOutput/>
                                <species/>
                                <speciesOutput/>
                                <farminPurpose/>
                                <farminPurposeOutput/>
                                <statusNow/>
                                <statusNowOutput/>
                                <soldTo/>
                                <soldToOutput/>
                                <quantity xsi:type="xsd:float" xsi:nil="true"/>
                                <quantityOutput/>
                                <quantityUnit/>
                                <quantityUnitOutput/>
                                <price xsi:type="xsd:float" xsi:nil="true"/>
                                <priceOutput/>
                                <priceUnit/>
                                <priceUnitOutput/>
                                <value/>
                                <buyerSocialSecurityNr/>
                                <buyerSocialSecurityNrOutput/>
                                <buyerName/>
                                <buyerNameOutput/>
                                <fishFarm/>
                                <fishFarmOutput/>
                                <fishFarmPermitNumber/>
                            </row>
                            <row>
                                <speciesGroup/>
                                <speciesGroupOutput/>
                                <aquamethod/>
                                <aquamethodOutput/>
                                <aquaEnvironment/>
                                <aquaEnvironmentOutput/>
                                <species/>
                                <speciesOutput/>
                                <farminPurpose/>
                                <farminPurposeOutput/>
                                <statusNow/>
                                <statusNowOutput/>
                                <soldTo/>
                                <soldToOutput/>
                                <quantity xsi:type="xsd:float" xsi:nil="true"/>
                                <quantityOutput/>
                                <quantityUnit/>
                                <quantityUnitOutput/>
                                <price xsi:type="xsd:float" xsi:nil="true"/>
                                <priceOutput/>
                                <priceUnit/>
                                <priceUnitOutput/>
                                <value/>
                                <buyerSocialSecurityNr/>
                                <buyerSocialSecurityNrOutput/>
                                <buyerName/>
                                <buyerNameOutput/>
                                <fishFarm/>
                                <fishFarmOutput/>
                                <fishFarmPermitNumber/>
                            </row>
                        </list>
                        <trigger/>
                    </sales>
                    
                    <salesValuesSum mapping="string_salesValuesSum"/>
                    <salesComments mapping="string_salesComments"/>
                    
                    <inventoryAtYearEnd mapping="objlist_inventoryAtYearEnd">
                        <list>
                            <row>
                                <speciesGroup/>
                                <speciesGroupOutput/>
                                <species/>
                                <speciesOutput/>
                                <quantity xsi:type="xsd:float" xsi:nil="true"/>
                                <quantityOutput/>
                                <quantityUnit/>
                                <quantityUnitOutput/>
                                <comments/>
                            </row>
                            <row>
                                <speciesGroup/>
                                <speciesGroupOutput/>
                                <species/>
                                <speciesOutput/>
                                <quantity xsi:type="xsd:float" xsi:nil="true"/>
                                <quantityOutput/>
                                <quantityUnit/>
                                <quantityUnitOutput/>
                                <comments/>
                            </row>
                        </list>
                        <trigger/>
                    </inventoryAtYearEnd>
                    
                    <expectedQuantityProduced mapping="objlist_expectedQuantityProduced">
                        <list>
                            <row>
                                <speciesGroup/>
                                <speciesGroupOutput/>
                                <species/>
                                <speciesOutput/>
                                <quantity xsi:type="xsd:float" xsi:nil="true"/>
                                <quantityOutput/>
                                <quantityUnit/>
                                <quantityUnitOutput/>
                                <comments/>
                            </row>
                            <row>
                                <speciesGroup/>
                                <speciesGroupOutput/>
                                <species/>
                                <speciesOutput/>
                                <quantity xsi:type="xsd:float" xsi:nil="true"/>
                                <quantityOutput/>
                                <quantityUnit/>
                                <quantityUnitOutput/>
                                <comments/>
                            </row>
                        </list>
                        <trigger/>
                    </expectedQuantityProduced>
                    
                    <tmpVal />
                    
                </data>
            </xf:instance>
            <xf:instance id="control-instance">
                <control xmlns="">
                    <required>true</required>
                    <readonly>false</readonly>
                    <submission>false</submission>
                    <generatePdf>false</generatePdf>
                    <sendLinkSubmission>false</sendLinkSubmission>
                    <submissionButton/>
                    <controlsButton/>
                </control>
            </xf:instance>
            <xf:instance id="error-instance" xmlns="">
                <data>
                    <error for=""/>
                    <sendLinkError for=""/>
                </data>
            </xf:instance>
            <xf:instance id="saveForm-instance">
                <data xmlns="">
                    <link/>
                    <savePhase>false</savePhase>
                </data>
            </xf:instance>
            <xf:instance id="downloadFormAsPDF-instance">
                <data xmlns="">
                    <link/>
                </data>
            </xf:instance>
            <xf:bind id="errorsGroup" idega:shared="true"
                nodeset="instance('error-instance')/error" relevant="instance('control-instance')/submission = 'true' and count-non-empty(instance('error-instance')/error)!=0"/>
            <xf:bind id="errors" idega:shared="true" nodeset="instance('error-instance')/error[. != '']"/>
            <xf:bind id="bind-submissionButton" idega:shared="true"
                nodeset="instance('control-instance')/submissionButton" relevant="instance('control-instance')/readonly != 'true' and instance('control-instance')/generatePdf != 'true'"/>
                
            <xf:bind id="fbc_5_bind"
                nodeset="companyData/socialSecurityNr" readonly="instance('control-instance')/readonly = 'true'" type="xs:string"/>
            <xf:bind id="fbc_6_bind"
                nodeset="companyData/name" readonly="instance('control-instance')/readonly = 'true'" type="xs:string"/>
            <xf:bind id="fbc_7_bind"
                nodeset="companyData/address" readonly="instance('control-instance')/readonly = 'true'" type="xs:string"/>
            <xf:bind id="fbc_8_bind"
                nodeset="reportForTheYear" readonly="instance('control-instance')/readonly = 'true'" type="xs:string"/>
                
            <xf:bind id="fbc_9_bind"
                nodeset="reportForTheFarm" 
                readonly="instance('control-instance')/readonly = 'true'"
                required="instance('control-instance')/required = 'true'"
                type="xs:string"/>
                
            <xf:bind id="fbc_42_bind"
                nodeset="reportForTheFarmOutput" 
                type="xs:string"/>
                
            <xf:bind id="fbc_10_bind"
                nodeset="farmStructure/list/row[position() != last()]" readonly="instance('control-instance')/readonly = 'true'">
                
                <xf:bind id="speciesGroupBind_fbc_10"
                    nodeset="./speciesGroup"
                    required="instance('control-instance')/required = 'true'" />
                    
                <xf:bind id="aquamethodBind_fbc_10"
                    nodeset="./aquamethod"
                    required="instance('control-instance')/required = 'true'" />
                    
                <xf:bind id="aquaEnvironmentBind_fbc_10"
                    nodeset="./aquaEnvironment"
                    required="instance('control-instance')/required = 'true'" />
                    
                <xf:bind id="sizeBind"
                    nodeset="./size"
                    required="instance('control-instance')/required = 'true'" />
                    
                <xf:bind id="unitOutputBind"
                    nodeset="./unitOutput" />
                
            </xf:bind>
            
            <xf:bind id="fbc_26_bind"
                nodeset="fishedForOnGrowing/list/row[position() != last()]" readonly="instance('control-instance')/readonly = 'true'">
                
                <xf:bind id="speciesGroupBind_fbc_26"
                    nodeset="./speciesGroup" />
                    
                <xf:bind id="speciesBind_fbc_26"
                    nodeset="./species" />
                    
                <xf:bind id="count_fbc_26"
                    nodeset="./count" />
                    
                <xf:bind id="weightBind"
                    nodeset="./weight" />
                    
                <xf:bind id="kgBind"
                    nodeset="./kg" />
                
            </xf:bind>
            
            <xf:bind id="fbc_43_bind"
                nodeset="sales/list/row[position() != last()]" readonly="instance('control-instance')/readonly = 'true'">
                
                <xf:bind id="speciesGroupBind_fbc_43"
                    nodeset="./speciesGroup"
                    required="instance('control-instance')/required = 'true'" />
                    
                <xf:bind id="aquamethodBind_fbc_43"
                    nodeset="./aquamethod"
                    required="instance('control-instance')/required = 'true'" />
                    
                <xf:bind id="aquaEnvironmentBind_fbc_43"
                    nodeset="./aquaEnvironment"
                    required="instance('control-instance')/required = 'true'" />
                    
                <xf:bind id="speciesBind_fbc_43"
                    nodeset="./species"
                    required="instance('control-instance')/required = 'true'" />
                    
                <xf:bind id="farminPurposeBind"
                    nodeset="./farminPurpose"
                    required="instance('control-instance')/required = 'true'" />
                    
                <xf:bind id="statusNowBind"
                    nodeset="./statusNow"
                    required="instance('control-instance')/required = 'true'" />
                    
                <xf:bind id="soldToBind"
                    nodeset="./soldTo" />
                    
                <xf:bind id="quantityBind_fbc_43"
                    nodeset="./quantity"
                    required="instance('control-instance')/required = 'true'" />
                    
                <xf:bind id="quantityUnitOutputBind"
                    nodeset="./quantityUnitOutput" />
                    
                <xf:bind id="priceBind"
                    nodeset="./price"
                    required="instance('control-instance')/required = 'true'" />
                    
                <xf:bind id="priceUnitOutputBind"
                    nodeset="./priceUnitOutput" />
                    
                <xf:bind id="valueBind"
                    nodeset="./value"
                    calculate="../quantity * ../price" />
                    
                <xf:bind id="buyerSocialSecurityNrBind"
                    nodeset="./buyerSocialSecurityNr" />
                    
                <xf:bind id="buyerNameBind"
                    nodeset="./buyerName" />
                    
                <xf:bind id="fishFarmBind"
                    nodeset="./fishFarm" />
                    
            </xf:bind>
            
            
            <xf:bind id="fbc_69_bind"
                nodeset="inventoryAtYearEnd/list/row[position() != last()]" readonly="instance('control-instance')/readonly = 'true'">
                
                <xf:bind id="speciesGroupBind_fbc_69"
                    nodeset="./speciesGroup"
                    required="instance('control-instance')/required = 'true'" />
                    
                <xf:bind id="speciesBind_fbc_69"
                    nodeset="./species"
                    required="instance('control-instance')/required = 'true'" />
                    
                <xf:bind id="quantityBind_fbc_69"
                    nodeset="./quantity"
                    required="instance('control-instance')/required = 'true'" />
                    
                <xf:bind id="quantityUnitOutputBind_fbc_69"
                    nodeset="./quantityUnitOutput" />
                    
                <xf:bind id="commentsBind_fbc_69"
                    nodeset="./comments" />
                
            </xf:bind>
            
            
            <xf:bind id="fbc_78_bind"
                nodeset="expectedQuantityProduced/list/row[position() != last()]" readonly="instance('control-instance')/readonly = 'true'">
                
                <xf:bind id="speciesGroupBind_fbc_78"
                    nodeset="./speciesGroup" />
                    
                <xf:bind id="speciesBind_fbc_78"
                    nodeset="./species" />
                    
                <xf:bind id="quantityBind_fbc_78"
                    nodeset="./quantity" />
                    
                <xf:bind id="quantityUnitOutputBind_fbc_78"
                    nodeset="./quantityUnitOutput" />
                    
                <xf:bind id="commentsBind_fbc_78"
                    nodeset="./comments" />
                
            </xf:bind>
            
            <xf:bind id="fbc_10_trigger" nodeset="farmStructure/trigger" relevant="instance('control-instance')/readonly != 'true' and instance('control-instance')/generatePdf != 'true'"/>
            <xf:bind id="fbc_26_trigger" nodeset="fishedForOnGrowing/trigger" relevant="instance('control-instance')/readonly != 'true' and instance('control-instance')/generatePdf != 'true'"/>
            <xf:bind id="fbc_43_trigger" nodeset="sales/trigger" relevant="instance('control-instance')/readonly != 'true' and instance('control-instance')/generatePdf != 'true'"/>
            <xf:bind id="fbc_69_trigger" nodeset="inventoryAtYearEnd/trigger" relevant="instance('control-instance')/readonly != 'true' and instance('control-instance')/generatePdf != 'true'"/>
            <xf:bind id="fbc_78_trigger" nodeset="expectedQuantityProduced/trigger" relevant="instance('control-instance')/readonly != 'true' and instance('control-instance')/generatePdf != 'true'"/>
            
            <xf:bind id="salesValuesSumBind"
                    nodeset="salesValuesSum"
                    calculate="format-number(sum(../sales/list/row/value), '#.##0')" />
                    
            <xf:bind id="salesCommentsBind"
                    nodeset="salesComments" />
            
            <xf:bind id="bind-controlsButton" idega:shared="true"
                nodeset="instance('control-instance')/controlsButton" relevant="instance('control-instance')/generatePdf != 'true' and instance('control-instance')/readonly != 'true'"/>
                
            <xf:submission action="xformsBPM:/nouri"
                id="submit_data_submission" method="post"
                ref="instance('data-instance')" replace="none">
                <idega:toggle case="fbc_4" ev:event="xforms-submit-done"/>
            </xf:submission>
            
            <xf:action ev:event="xforms-submit-error" id="submission-error">
                <xf:dispatch name="idega-submit-error" target="idega-submission-error"/>
            </xf:action>
            <xf:action ev:event="idega-submit-error" id="idega-submission-error">
                <xf:message level="modeless" ref="instance('localized_strings')/submission-error_message[@lang=instance('localized_strings')/current_language]"/>
            </xf:action>
            <xf:instance id="fbc_13_lds" xmlns="">
                <local_src>
                    <localizedEntries lang="en">
                        <item/>
                    </localizedEntries>
                    <localizedEntries lang="is_IS">
                        <item/>
                    </localizedEntries>
                </local_src>
            </xf:instance>
            <xf:instance id="fbc_21_lds" xmlns="">
                <local_src>
                    <localizedEntries lang="en">
                        <item/>
                    </localizedEntries>
                    <localizedEntries lang="is_IS">
                        <item/>
                    </localizedEntries>
                </local_src>
            </xf:instance>
            <xf:instance id="fbc_23_lds" xmlns="">
                <local_src>
                    <localizedEntries lang="en">
                        <item/>
                    </localizedEntries>
                    <localizedEntries lang="is_IS">
                        <item/>
                    </localizedEntries>
                </local_src>
            </xf:instance>
            <xf:instance id="fbc_29_lds" xmlns="">
                <local_src>
                    <localizedEntries lang="en">
                        <item/>
                    </localizedEntries>
                    <localizedEntries lang="is_IS">
                        <item/>
                    </localizedEntries>
                </local_src>
            </xf:instance>
            <xf:instance id="fbc_44_lds" xmlns="">
                <local_src>
                    <localizedEntries lang="en">
                        <item/>
                    </localizedEntries>
                    <localizedEntries lang="is_IS">
                        <item/>
                    </localizedEntries>
                </local_src>
            </xf:instance>
            <xf:instance id="fbc_45_lds" xmlns="">
                <local_src>
                    <localizedEntries lang="en">
                        <item/>
                    </localizedEntries>
                    <localizedEntries lang="is_IS">
                        <item/>
                    </localizedEntries>
                </local_src>
            </xf:instance>
            <xf:instance id="fbc_46_lds" xmlns="">
                <local_src>
                    <localizedEntries lang="en">
                        <item/>
                    </localizedEntries>
                    <localizedEntries lang="is_IS">
                        <item/>
                    </localizedEntries>
                </local_src>
            </xf:instance>
            <xf:instance id="fbc_47_lds" xmlns="">
                <local_src>
                    <localizedEntries lang="en">
                        <item/>
                    </localizedEntries>
                    <localizedEntries lang="is_IS">
                        <item/>
                    </localizedEntries>
                </local_src>
            </xf:instance>
        </xf:model>
        <xf:model id="data_model">
            <xf:instance id="localized_strings" xmlns="">
                <localized_strings>
                    <default_language>en</default_language>
                    <current_language>en</current_language>
                    <form-title lang="en">Aquaculture report</form-title>
                    <form-title lang="is_IS">Fiskeldi - framleiðsluskýrsla</form-title>
                    <page-2-label lang="en">Form submitted</page-2-label>
                    <page-2-label lang="is_IS">Form sent</page-2-label>
                    <page-1-submit_button-label lang="en">Submit</page-1-submit_button-label>
                    <page-1-submit_button-label lang="is_IS">Senda</page-1-submit_button-label>
                    <submission-error_message lang="en">Submission error. Please check your form!</submission-error_message>
                    <submission-error_message lang="is_IS">Villa varð við að senda formið vinsamlegast athugið hvort stjörnumerktir reitir hafi allir verið útfylltir og að engar villur séu í forminu.</submission-error_message>
                    <submission-success_message lang="en">Your form has been received. Thank you.</submission-success_message>
                    <submission-success_message lang="is_IS">Formið hefur verið móttekið. Takk fyrir.</submission-success_message>
                    
                    <fbc_5-label lang="is_IS">Kennitala</fbc_5-label>
                    <fbc_5-label lang="en">Social security number</fbc_5-label>
                    <fbc_6-label lang="is_IS">Nafn</fbc_6-label>
                    <fbc_6-label lang="en">Name</fbc_6-label>
                    <fbc_7-label lang="is_IS">Heimilisfang</fbc_7-label>
                    <fbc_7-label lang="en">Address</fbc_7-label>
                    <fbc_8-label lang="is_IS">Skýrsla fyrir árið</fbc_8-label>
                    <fbc_8-label lang="en">Report for the year</fbc_8-label>
                    <fbc_9-label lang="is_IS">Stöð</fbc_9-label>
                    <fbc_9-label lang="en">Farm</fbc_9-label>
                    <fbc_9-required lang="is_IS">Það þarf að fylla út reitinn X</fbc_9-required>
                    <fbc_9-required lang="en">The field X is required</fbc_9-required>
                    
                    <fbc_10_repeat_id_input_speciesGroup-required lang="is_IS">fbc_10_repeat_id_input_speciesGroup-required</fbc_10_repeat_id_input_speciesGroup-required>
                    <fbc_10_repeat_id_input_speciesGroup-required lang="en">fbc_10_repeat_id_input_speciesGroup-required</fbc_10_repeat_id_input_speciesGroup-required>
                    <fbc_10_repeat_id_input_aquamethod-required lang="is_IS">fbc_10_repeat_id_input_aquamethod-required</fbc_10_repeat_id_input_aquamethod-required>
                    <fbc_10_repeat_id_input_aquamethod-required lang="en">fbc_10_repeat_id_input_aquamethod-required</fbc_10_repeat_id_input_aquamethod-required>
                    <fbc_10_repeat_id_input_aquaEnvironment-required lang="is_IS">fbc_10_repeat_id_input_aquaEnvironment-required</fbc_10_repeat_id_input_aquaEnvironment-required>
                    <fbc_10_repeat_id_input_aquaEnvironment-required lang="en">fbc_10_repeat_id_input_aquaEnvironment-required</fbc_10_repeat_id_input_aquaEnvironment-required>
                    <fbc_10_repeat_id_input_size-required lang="is_IS">fbc_10_repeat_id_input_size-required</fbc_10_repeat_id_input_size-required>
                    <fbc_10_repeat_id_input_size-required lang="en">fbc_10_repeat_id_input_size-required</fbc_10_repeat_id_input_size-required>
                    
                    <fbc_26_repeat_id_input_speciesGroup-required lang="is_IS">fbc_26_repeat_id_input_speciesGroup-required</fbc_26_repeat_id_input_speciesGroup-required>
                    <fbc_26_repeat_id_input_speciesGroup-required lang="en">fbc_26_repeat_id_input_speciesGroup-required</fbc_26_repeat_id_input_speciesGroup-required>
                    <fbc_26_repeat_id_input_species-required lang="is_IS">fbc_26_repeat_id_input_species-required</fbc_26_repeat_id_input_species-required>
                    <fbc_26_repeat_id_input_species-required lang="en">fbc_26_repeat_id_input_species-required</fbc_26_repeat_id_input_species-required>
                    <fbc_26_repeat_id_input_quantity-required lang="is_IS">fbc_26_repeat_id_input_quantity-required</fbc_26_repeat_id_input_quantity-required>
                    <fbc_26_repeat_id_input_quantity-required lang="en">fbc_26_repeat_id_input_quantity-required</fbc_26_repeat_id_input_quantity-required>
                    <fbc_26_repeat_id_input_weight-required lang="is_IS">fbc_26_repeat_id_input_weight-required</fbc_26_repeat_id_input_weight-required>
                    <fbc_26_repeat_id_input_weight-required lang="en">fbc_26_repeat_id_input_weight-required</fbc_26_repeat_id_input_weight-required>
                    <fbc_26_repeat_id_input_kg-required lang="is_IS">fbc_26_repeat_id_input_kg-required</fbc_26_repeat_id_input_kg-required>
                    <fbc_26_repeat_id_input_kg-required lang="en">fbc_26_repeat_id_input_kg-required</fbc_26_repeat_id_input_kg-required>
                    
                    <fbc_43_repeat_id_input_speciesGroup-required lang="is_IS">fbc_43_repeat_id_input_speciesGroup-required</fbc_43_repeat_id_input_speciesGroup-required>
                    <fbc_43_repeat_id_input_speciesGroup-required lang="en">fbc_43_repeat_id_input_speciesGroup-required</fbc_43_repeat_id_input_speciesGroup-required>
                    <fbc_43_repeat_id_input_aquamethod-required lang="is_IS">fbc_43_repeat_id_input_aquamethod-required</fbc_43_repeat_id_input_aquamethod-required>
                    <fbc_43_repeat_id_input_aquamethod-required lang="en">fbc_43_repeat_id_input_aquamethod-required</fbc_43_repeat_id_input_aquamethod-required>
                    <fbc_43_repeat_id_input_aquaEnvironment-required lang="is_IS">fbc_43_repeat_id_input_aquaEnvironment-required</fbc_43_repeat_id_input_aquaEnvironment-required>
                    <fbc_43_repeat_id_input_aquaEnvironment-required lang="en">fbc_43_repeat_id_input_aquaEnvironment-required</fbc_43_repeat_id_input_aquaEnvironment-required>
                    <fbc_43_repeat_id_input_species-required lang="is_IS">fbc_43_repeat_id_input_species-required</fbc_43_repeat_id_input_species-required>
                    <fbc_43_repeat_id_input_species-required lang="en">fbc_43_repeat_id_input_species-required</fbc_43_repeat_id_input_species-required>
                    <fbc_43_repeat_id_input_farminPurpose-required lang="is_IS">fbc_43_repeat_id_input_farminPurpose-required</fbc_43_repeat_id_input_farminPurpose-required>
                    <fbc_43_repeat_id_input_farminPurpose-required lang="en">fbc_43_repeat_id_input_farminPurpose-required</fbc_43_repeat_id_input_farminPurpose-required>
                    <fbc_43_repeat_id_input_statusNow-required lang="is_IS">fbc_43_repeat_id_input_statusNow-required</fbc_43_repeat_id_input_statusNow-required>
                    <fbc_43_repeat_id_input_statusNow-required lang="en">fbc_43_repeat_id_input_statusNow-required</fbc_43_repeat_id_input_statusNow-required>
                    <fbc_43_repeat_id_input_soldTo-required lang="is_IS">fbc_43_repeat_id_input_soldTo-required</fbc_43_repeat_id_input_soldTo-required>
                    <fbc_43_repeat_id_input_soldTo-required lang="en">fbc_43_repeat_id_input_soldTo-required</fbc_43_repeat_id_input_soldTo-required>
                    <fbc_43_repeat_id_input_quantity-required lang="is_IS">fbc_43_repeat_id_input_quantity-required</fbc_43_repeat_id_input_quantity-required>
                    <fbc_43_repeat_id_input_quantity-required lang="en">fbc_43_repeat_id_input_quantity-required</fbc_43_repeat_id_input_quantity-required>
                    <fbc_43_repeat_id_input_price-required lang="is_IS">fbc_43_repeat_id_input_price-required</fbc_43_repeat_id_input_price-required>
                    <fbc_43_repeat_id_input_price-required lang="en">fbc_43_repeat_id_input_price-required</fbc_43_repeat_id_input_price-required>
                    <fbc_43_repeat_id_input_value-required lang="is_IS">fbc_43_repeat_id_input_value-required</fbc_43_repeat_id_input_value-required>
                    <fbc_43_repeat_id_input_value-required lang="en">fbc_43_repeat_id_input_value-required</fbc_43_repeat_id_input_value-required>
                    <fbc_43_repeat_id_input_buyerSocialSecurityNr-required lang="is_IS">fbc_43_repeat_id_input_buyerSocialSecurityNr-required</fbc_43_repeat_id_input_buyerSocialSecurityNr-required>
                    <fbc_43_repeat_id_input_buyerSocialSecurityNr-required lang="en">fbc_43_repeat_id_input_buyerSocialSecurityNr-required</fbc_43_repeat_id_input_buyerSocialSecurityNr-required>
                    <fbc_43_repeat_id_input_buyerName-required lang="is_IS">fbc_43_repeat_id_input_buyerName-required</fbc_43_repeat_id_input_buyerName-required>
                    <fbc_43_repeat_id_input_buyerName-required lang="en">fbc_43_repeat_id_input_buyerName-required</fbc_43_repeat_id_input_buyerName-required>
                    
                    <fbc_69_repeat_id_input_speciesGroup-required lang="is_IS">fbc_69_repeat_id_input_speciesGroup-required</fbc_69_repeat_id_input_speciesGroup-required>
                    <fbc_69_repeat_id_input_speciesGroup-required lang="en">fbc_69_repeat_id_input_speciesGroup-required</fbc_69_repeat_id_input_speciesGroup-required>
                    <fbc_69_repeat_id_input_species-required lang="is_IS">fbc_69_repeat_id_input_species-required</fbc_69_repeat_id_input_species-required>
                    <fbc_69_repeat_id_input_species-required lang="en">fbc_69_repeat_id_input_species-required</fbc_69_repeat_id_input_species-required>
                    <fbc_69_repeat_id_input_quantity-required lang="is_IS">fbc_69_repeat_id_input_quantity-required</fbc_69_repeat_id_input_quantity-required>
                    <fbc_69_repeat_id_input_quantity-required lang="en">fbc_69_repeat_id_input_quantity-required</fbc_69_repeat_id_input_quantity-required>
                    
                    <fbc_78_repeat_id_input_speciesGroup-required lang="is_IS">fbc_78_repeat_id_input_speciesGroup-required</fbc_78_repeat_id_input_speciesGroup-required>
                    <fbc_78_repeat_id_input_speciesGroup-required lang="en">fbc_78_repeat_id_input_speciesGroup-required</fbc_78_repeat_id_input_speciesGroup-required>
                    <fbc_78_repeat_id_input_species-required lang="is_IS">fbc_78_repeat_id_input_species-required</fbc_78_repeat_id_input_species-required>
                    <fbc_78_repeat_id_input_species-required lang="en">fbc_78_repeat_id_input_species-required</fbc_78_repeat_id_input_species-required>
                    <fbc_78_repeat_id_input_quantity-required lang="is_IS">fbc_78_repeat_id_input_quantity-required</fbc_78_repeat_id_input_quantity-required>
                    <fbc_78_repeat_id_input_quantity-required lang="en">fbc_78_repeat_id_input_quantity-required</fbc_78_repeat_id_input_quantity-required>
                    
                    
                    <fbc_10-label lang="is_IS">Eldisrými</fbc_10-label>
                    <fbc_10-label lang="en">Farm structure</fbc_10-label>
                    <fbc_10-table-count-error lang="en">Bad number format. Check again.</fbc_10-table-count-error>
                    <fbc_10-table-count-error lang="is_IS">Tölurnar eru ekki rétt slegnar inn, lagfærðu og reyndu aftur.</fbc_10-table-count-error>
                    <fbc_10-insert-label lang="en">Insert</fbc_10-insert-label>
                    <fbc_10-insert-label lang="is_IS">Bæta við röð</fbc_10-insert-label>
                    <fbc_10-delete-label lang="en">Delete</fbc_10-delete-label>
                    <fbc_10-delete-label lang="is_IS">Eyða röð</fbc_10-delete-label>
                    <fbc_10-col-speciesGroup-label lang="en">Species group</fbc_10-col-speciesGroup-label>
                    <fbc_10-col-speciesGroup-label lang="is_IS">Flokkur</fbc_10-col-speciesGroup-label>
                    <fbc_10-col-aquamethod-label lang="en">Aqua method</fbc_10-col-aquamethod-label>
                    <fbc_10-col-aquamethod-label lang="is_IS">Eldisaðferð</fbc_10-col-aquamethod-label>
                    <fbc_10-col-aquaEnvironment-label lang="en">Aqua environment</fbc_10-col-aquaEnvironment-label>
                    <fbc_10-col-aquaEnvironment-label lang="is_IS">Vatnsumhverfi</fbc_10-col-aquaEnvironment-label>
                    <fbc_10-col-size-label lang="en">Size</fbc_10-col-size-label>
                    <fbc_10-col-size-label lang="is_IS">Stærð</fbc_10-col-size-label>
                    <fbc_10-col-unitOutput-label lang="en">Unit</fbc_10-col-unitOutput-label>
                    <fbc_10-col-unitOutput-label lang="is_IS">Eining</fbc_10-col-unitOutput-label>
                    
                    <fbc_18-label lang="is_IS">Næsta skref</fbc_18-label>
                    <fbc_18-label lang="en">Next</fbc_18-label>
                    <fbc_20-label lang="is_IS">Til baka</fbc_20-label>
                    <fbc_20-label lang="en">Previous</fbc_20-label>
                    
                    <fbc_26-label lang="is_IS">Veitt í áframeldi</fbc_26-label>
                    <fbc_26-label lang="en">Fished for on-growing</fbc_26-label>
                    <fbc_26-insert-label lang="en">Insert</fbc_26-insert-label>
                    <fbc_26-insert-label lang="is_IS">Bæta við röð</fbc_26-insert-label>
                    <fbc_26-delete-label lang="en">Delete</fbc_26-delete-label>
                    <fbc_26-delete-label lang="is_IS">Eyða röð</fbc_26-delete-label>
                    
                    <fbc_26-col-speciesGroup-label lang="en">Species group</fbc_26-col-speciesGroup-label>
                    <fbc_26-col-speciesGroup-label lang="is_IS">Flokkur</fbc_26-col-speciesGroup-label>
                    <fbc_26-col-species-label lang="en">Species</fbc_26-col-species-label>
                    <fbc_26-col-species-label lang="is_IS">Tegund</fbc_26-col-species-label>
                    <fbc_26-col-quantity-label lang="en">Quantity</fbc_26-col-quantity-label>
                    <fbc_26-col-quantity-label lang="is_IS">Magn</fbc_26-col-quantity-label>
                    <fbc_26-col-weight-label lang="en">Weight</fbc_26-col-weight-label>
                    <fbc_26-col-weight-label lang="is_IS">Þyngd (kg)</fbc_26-col-weight-label>
                    <fbc_26-col-kg-label lang="en">Kr/Kg</fbc_26-col-kg-label>
                    <fbc_26-col-kg-label lang="is_IS">Kr/Kg</fbc_26-col-kg-label>
                    
                    <fbc_43-label lang="is_IS">Sala</fbc_43-label>
                    <fbc_43-label lang="en">Sales</fbc_43-label>
                    <fbc_43-insert-label lang="en">Insert</fbc_43-insert-label>
                    <fbc_43-insert-label lang="is_IS">Bæta við röð</fbc_43-insert-label>
                    <fbc_43-delete-label lang="en">Delete</fbc_43-delete-label>
                    <fbc_43-delete-label lang="is_IS">Eyða röð</fbc_43-delete-label>
                    
                    <fbc_43-col-speciesGroup-label lang="en">Species group</fbc_43-col-speciesGroup-label>
                    <fbc_43-col-speciesGroup-label lang="is_IS">Flokkur</fbc_43-col-speciesGroup-label>
                    <fbc_43-col-aquamethod-label lang="en">Aqua method</fbc_43-col-aquamethod-label>
                    <fbc_43-col-aquamethod-label lang="is_IS">Eldisaðferð</fbc_43-col-aquamethod-label>
                    <fbc_43-col-aquaEnvironment-label lang="en">Aqua environment</fbc_43-col-aquaEnvironment-label>
                    <fbc_43-col-aquaEnvironment-label lang="is_IS">Vatnsumhverfi</fbc_43-col-aquaEnvironment-label>
                    <fbc_43-col-species-label lang="en">Species</fbc_43-col-species-label>
                    <fbc_43-col-species-label lang="is_IS">Tegund</fbc_43-col-species-label>
                    <fbc_43-col-farminPurpose-label lang="en">Farmin purpose</fbc_43-col-farminPurpose-label>
                    <fbc_43-col-farminPurpose-label lang="is_IS">Afdrif</fbc_43-col-farminPurpose-label>
                    <fbc_43-col-statusNow-label lang="en">Status now</fbc_43-col-statusNow-label>
                    <fbc_43-col-statusNow-label lang="is_IS">Ástand</fbc_43-col-statusNow-label>
                    <fbc_43-col-soldTo-label lang="en">Sold to</fbc_43-col-soldTo-label>
                    <fbc_43-col-soldTo-label lang="is_IS">Selt til</fbc_43-col-soldTo-label>
                    <fbc_43-col-quantity-label lang="en">Quantity</fbc_43-col-quantity-label>
                    <fbc_43-col-quantity-label lang="is_IS">Magn</fbc_43-col-quantity-label>
                    <fbc_43-col-quantityUnitOutput-label lang="en">Unit</fbc_43-col-quantityUnitOutput-label>
                    <fbc_43-col-quantityUnitOutput-label lang="is_IS">Eining</fbc_43-col-quantityUnitOutput-label>
                    <fbc_43-col-price-label lang="en">Price</fbc_43-col-price-label>
                    <fbc_43-col-price-label lang="is_IS">Verð</fbc_43-col-price-label>
                    <fbc_43-col-priceUnitOutput-label lang="en">Unit</fbc_43-col-priceUnitOutput-label>
                    <fbc_43-col-priceUnitOutput-label lang="is_IS">Eining</fbc_43-col-priceUnitOutput-label>
                    <fbc_43-col-value-label lang="en">Value</fbc_43-col-value-label>
                    <fbc_43-col-value-label lang="is_IS">Verðmæti</fbc_43-col-value-label>
                    <fbc_43-col-buyerSocialSecurityNr-label lang="en">Buyer social security number</fbc_43-col-buyerSocialSecurityNr-label>
                    <fbc_43-col-buyerSocialSecurityNr-label lang="is_IS">Kennitala kaupanda</fbc_43-col-buyerSocialSecurityNr-label>
                    <fbc_43-col-buyerName-label lang="en">Buyer name</fbc_43-col-buyerName-label>
                    <fbc_43-col-buyerName-label lang="is_IS">Nafn kaupanda</fbc_43-col-buyerName-label>
                    <fbc_43-col-fishFarm-label lang="en">Fish farm</fbc_43-col-fishFarm-label>
                    <fbc_43-col-fishFarm-label lang="is_IS">Fiskeldisstöð</fbc_43-col-fishFarm-label>
                    
                    <fbc_65-label lang="is_IS">Verðmæti</fbc_65-label>
                    <fbc_65-label lang="en">Total sales value</fbc_65-label>
                    <fbc_67-label lang="is_IS">Athugasemdir</fbc_67-label>
                    <fbc_67-label lang="en">Comments</fbc_67-label>
                    
                    <fbc_69-label lang="is_IS">Birgðastaða um áramót 2010</fbc_69-label>
                    <fbc_69-label lang="en">Inventory at year end 2010</fbc_69-label>
                    <fbc_69-insert-label lang="en">Insert</fbc_69-insert-label>
                    <fbc_69-insert-label lang="is_IS">Bæta við röð</fbc_69-insert-label>
                    <fbc_69-delete-label lang="en">Delete</fbc_69-delete-label>
                    <fbc_69-delete-label lang="is_IS">Eyða röð</fbc_69-delete-label>
                    
                    <fbc_69-col-speciesGroup-label lang="en">Species group</fbc_69-col-speciesGroup-label>
                    <fbc_69-col-speciesGroup-label lang="is_IS">Flokkur</fbc_69-col-speciesGroup-label>
                    <fbc_69-col-species-label lang="en">Species</fbc_69-col-species-label>
                    <fbc_69-col-species-label lang="is_IS">Tegund</fbc_69-col-species-label>
                    <fbc_69-col-quantity-label lang="en">Quantity</fbc_69-col-quantity-label>
                    <fbc_69-col-quantity-label lang="is_IS">Magn</fbc_69-col-quantity-label>
                    <fbc_69-col-quantityUnitOutput-label lang="en">Unit</fbc_69-col-quantityUnitOutput-label>
                    <fbc_69-col-quantityUnitOutput-label lang="is_IS">Eining</fbc_69-col-quantityUnitOutput-label>
                    <fbc_69-col-comments-label lang="en">Comments</fbc_69-col-comments-label>
                    <fbc_69-col-comments-label lang="is_IS">Athugasemdir</fbc_69-col-comments-label>
                    
                    
                    <fbc_78-label lang="is_IS">Áætlað magn frá stöðinni á árinu 2011</fbc_78-label>
                    <fbc_78-label lang="en">Expected quantity produced next year</fbc_78-label>
                    <fbc_78-insert-label lang="en">Insert</fbc_78-insert-label>
                    <fbc_78-insert-label lang="is_IS">Bæta við röð</fbc_78-insert-label>
                    <fbc_78-delete-label lang="en">Delete</fbc_78-delete-label>
                    <fbc_78-delete-label lang="is_IS">Eyða röð</fbc_78-delete-label>
                    
                    <fbc_78-col-speciesGroup-label lang="en">Species group</fbc_78-col-speciesGroup-label>
                    <fbc_78-col-speciesGroup-label lang="is_IS">Flokkur</fbc_78-col-speciesGroup-label>
                    <fbc_78-col-species-label lang="en">Species</fbc_78-col-species-label>
                    <fbc_78-col-species-label lang="is_IS">Tegund</fbc_78-col-species-label>
                    <fbc_78-col-count-label lang="en">Count</fbc_78-col-count-label>
                    <fbc_78-col-count-label lang="is_IS">Fjöldi</fbc_78-col-count-label>
                    <fbc_78-col-quantity-label lang="en">Quantity</fbc_78-col-quantity-label>
                    <fbc_78-col-quantity-label lang="is_IS">Magn</fbc_78-col-quantity-label>
                    <fbc_78-col-quantityUnitOutput-label lang="en">Unit</fbc_78-col-quantityUnitOutput-label>
                    <fbc_78-col-quantityUnitOutput-label lang="is_IS">Eining</fbc_78-col-quantityUnitOutput-label>
                    <fbc_78-col-comments-label lang="en">Comments</fbc_78-col-comments-label>
                    <fbc_78-col-comments-label lang="is_IS">Athugasemdir</fbc_78-col-comments-label>
                    
                </localized_strings>
            </xf:instance>
            <xf:instance id="locale-instance" relevant="false()" src="context:fb-afk-loginSession.currentLocale"/>
            <xf:action ev:event="xforms-ready">
                <idega:dispatch name="idega-xforms-ready" target="//h:body//*[starts-with(@id, 'fbc_')]"/>
                <xf:setvalue model="data_model"
                    ref="instance('localized_strings')/current_language" value="instance('locale-instance')/fb-afk-loginSession.currentLocale"/>
                <xf:setvalue
                    if="instance('control-instance')/generatePdf='true'"
                    model="submission_model"
                    ref="instance('control-instance')/required" value="'false'"/>
                    
                    <idega:toggle case="fbc_17" if="instance('control-instance')/generatePdf = 'true' or instance('control-instance')/readonly='true'"/>
                    
                    <xf:action if="instance('control-instance')/generatePdf != 'true' and instance('control-instance')/readonly != 'true'">
                    
                        <idega:setvalue
                                    multiple="true()"
                                    placeResponseDocument="true()"
                                    ref="instance('data-instance')/companyData" value="idega:resolveBeanProperties('aquaCultureService.getCompanyForCurrentUser()')"/>
                                    
                        <idega:setvalue
                                    ref="instance('data-instance')/reportForTheYear" value="idega:resolveExpression('aquaCultureService.getReportForTheYear()')"/>
                                    
                        <idega:setvalue
                            ref="instance('fbc_9_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item" value="idega:resolveExpression('aquaCultureService.getFarms()')"/>

                        <idega:setvalue
                            ref="instance('fbc_13_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item" value="idega:resolveExpression('aquaCultureService.getSpeciesGroups()')"/>
                            
                        <idega:setvalue
                            ref="instance('fbc_21_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item" value="idega:resolveExpression('aquaCultureService.getAquamethods()')"/>
                            
                        <idega:setvalue
                            ref="instance('fbc_23_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item" value="idega:resolveExpression('aquaCultureService.getAquaEnvironments()')"/>
                            
                        <idega:setvalue
                            ref="instance('fbc_29_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item" value="idega:resolveExpression('aquaCultureService.getSpecies()')"/>
                            
                        <idega:setvalue
                            ref="instance('fbc_44_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item" value="idega:resolveExpression('aquaCultureService.getFarminPurposes()')"/>
                            
                        <idega:setvalue
                            ref="instance('fbc_45_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item" value="idega:resolveExpression('aquaCultureService.getStatusNows()')"/>
                            
                        <idega:setvalue
                            ref="instance('fbc_46_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item" value="idega:resolveExpression('aquaCultureService.getSoldTos()')"/>
                            
                        <idega:setvalue
                            ref="instance('fbc_47_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item" value="idega:resolveExpression('aquaCultureService.getAllFarms()')"/>
                    </xf:action>
                    
                
            </xf:action>
            <xf:instance id="fbc_9_lds" xmlns="">
                <local_src>
                    <localizedEntries lang="en">
                        <item>
                            <itemLabel/>
                            <itemValue/>
                        </item>
                    </localizedEntries>
                    <localizedEntries lang="is_IS">
                        <item>
                            <itemLabel/>
                            <itemValue/>
                        </item>
                    </localizedEntries>
                </local_src>
            </xf:instance>
            
        </xf:model>
        <xs:schema id="fb-schema">
        </xs:schema>
    </head>
    <body>
        <xf:group appearance="full">
            <xf:group bind="errorsGroup" class="xformErrors">
                <xf:repeat bind="errors">
                    <xf:output ref="."/>
                </xf:repeat>
            </xf:group>
            <idega:setError ev:event="idega-validation-error"
                id="formSetErrorHandler" ref="instance('error-instance')/error"/>
            <idega:switch>
                <idega:case id="fbc_1">
                    <xf:group appearance="full">
                    
                        <xf:output bind="fbc_5_bind" id="fbc_5" type="fbc_text_output">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_5-label[@lang=instance('localized_strings')/current_language]"/>
                        </xf:output>
                        <xf:output bind="fbc_6_bind" id="fbc_6" type="fbc_text_output">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_6-label[@lang=instance('localized_strings')/current_language]"/>
                        </xf:output>
                        <xf:output bind="fbc_7_bind" id="fbc_7" type="fbc_text_output">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_7-label[@lang=instance('localized_strings')/current_language]"/>
                        </xf:output>
                        
                        <xf:output bind="fbc_8_bind" id="fbc_8" type="fbc_text_output">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_8-label[@lang=instance('localized_strings')/current_language]"/>
                        </xf:output>
                        
                        <xf:select1 appearance="minimal"
                            bind="fbc_9_bind"
                            id="fbc_9" type="fbc_single_select_minimal">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_9-label[@lang=instance('localized_strings')/current_language]"/>
                            <xf:itemset model="data_model" nodeset="instance('fbc_9_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item">
                                <xf:label ref="itemLabel"/>
                                <xf:value ref="itemValue"/>
                            </xf:itemset>
                            <xf:dispatch ev:event="idega-xforms-ready"
                                name="idega-validate" target="fbc_9"/>
                            <xf:dispatch ev:event="xforms-value-changed"
                                name="idega-validate" target="fbc_9"/>
                                
                            <idega:setvalue
                                ev:event="xforms-value-changed"
                                multiple="true()"
                                ref="instance('data-instance')/reportForTheFarmOutput" value="instance('fbc_9_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/reportForTheFarm]/itemLabel"/>
                                
                            <idega:validator ev:event="idega-validate">
                                <idega:message errorType="required"
                                    model="data_model" value="instance('localized_strings')/fbc_9-required[@lang=instance('localized_strings')/current_language]"/>
                            </idega:validator>
                            <xf:alert ref="instance('error-instance')/error[@for='fbc_9']"/>
                        </xf:select1>
                        
                        <!-- farm structure -->
                        <xf:group appereance="full" id="fbc_10">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_10-label[@lang=instance('localized_strings')/current_language]"/>
                              
                             <xf:dispatch ev:event="xforms-value-changed" name="idega-validate" target="fbc_10"/>
                           
                           <!-- 
                           TODO
                            <idega:validator componentId="fbc_10" ev:event="idega-validate" validateif="string(sum(instance('data-instance')/farmStructure/list/row/cost_estimate)) !='NaN'">
                                <idega:message errorType="custom" model="data_model" value="instance('localized_strings')/fbc_10-table-count-error[@lang=instance('localized_strings')/current_language]"/>
                            </idega:validator>
                             --> 
                            
                            <xf:trigger class="insertRowButton farmStructure" bind="fbc_10_trigger" id="fbc_11">
                                <xf:label model="data_model" ref="instance('localized_strings')/fbc_10-insert-label[@lang=instance('localized_strings')/current_language]"/>
                                <xf:action>
                                    <xf:insert at="last()" nodeset="../list/row" position="after"/>
                                </xf:action>
                            </xf:trigger>
                            <xf:trigger bind="fbc_10_trigger" id="fbc_12">
                                <xf:label model="data_model" ref="instance('localized_strings')/fbc_10-delete-label[@lang=instance('localized_strings')/current_language]"/>
                                <xf:action>
                                    <xf:delete at="last()-1" nodeset="../list/row"/>
                                </xf:action>
                            </xf:trigger>
                            <xf:repeat class="farmStructure" appearance="compact" bind="fbc_10_bind" id="fbc_10_repeat_id">
                            
                                <xf:input id="fbc_10_repeat_id_input_speciesGroup" bind="speciesGroupBind_fbc_10" class="substitute substituteId-speciesGroup speciesGroup">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_10-col-speciesGroup-label[@lang=instance('localized_strings')/current_language]"/>
                                    
                                    <xf:dispatch ev:event="xforms-value-changed"
                                        name="idega-validate" target="fbc_10_repeat_id_input_speciesGroup"/>
                                    <idega:validator ev:event="idega-validate">
		                                <idega:message errorType="required"
		                                    model="data_model" value="instance('localized_strings')/fbc_10_repeat_id_input_speciesGroup-required[@lang=instance('localized_strings')/current_language]"/>
		                            </idega:validator>
                                    
                                    <xf:action ev:event="xforms-value-changed">
                                    
                                        <xf:setvalue
                                            ref="../speciesGroupOutput" 
                                            value="instance('fbc_13_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/farmStructure/list/row[index('fbc_10_repeat_id')]/speciesGroup]/itemLabel"/>
                                    
                                    </xf:action>
                                    
                                </xf:input>
                                
                                
                                <xf:input id="fbc_10_repeat_id_input_aquamethod" bind="aquamethodBind_fbc_10" class="substitute substituteId-aquamethod aquamethod">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_10-col-aquamethod-label[@lang=instance('localized_strings')/current_language]"/>
                                    
                                    <xf:dispatch ev:event="xforms-value-changed"
                                        name="idega-validate" target="fbc_10_repeat_id_input_aquamethod"/>
                                    <idega:validator ev:event="idega-validate">
                                        <idega:message errorType="required"
                                            model="data_model" value="instance('localized_strings')/fbc_10_repeat_id_input_aquamethod-required[@lang=instance('localized_strings')/current_language]"/>
                                    </idega:validator>
                                    
                                    <xf:action ev:event="xforms-value-changed">
                                    
                                        <xf:setvalue
                                            ref="../aquamethodOutput" 
                                            value="instance('fbc_21_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/farmStructure/list/row[index('fbc_10_repeat_id')]/aquamethod]/itemLabel"/>

								<xf:setvalue ref="instance('data-instance')/tmpVal"
									value="instance('data-instance')/farmStructure/list/row[index('fbc_10_repeat_id')]/aquamethod" />

								<idega:setvalue
                                            multiple="true()"
                                            placeResponseDocument="true()"
                                            ref="../unit" value="idega:resolveExpression('aquaCultureService.getQuantityUnitByAquamethodId({0})', '#{instance(`data-instance`)/tmpVal}')"/>
                                         
                                        <idega:setvalue
                                            multiple="true()"
                                            placeResponseDocument="true()"
                                            ref="../unitOutput" value="idega:resolveExpression('aquaCultureService.getQuantityUnitOutputByAquamethodId({0})', '#{instance(`data-instance`)/tmpVal}')"/>
                                            
                                    </xf:action>
                                    
                                </xf:input>
                                
                                
                                <xf:input id="fbc_10_repeat_id_input_aquaEnvironment" bind="aquaEnvironmentBind_fbc_10" class="substitute substituteId-aquaEnvironment aquaEnvironment">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_10-col-aquaEnvironment-label[@lang=instance('localized_strings')/current_language]"/>
                                    
                                    <xf:dispatch ev:event="xforms-value-changed"
                                        name="idega-validate" target="fbc_10_repeat_id_input_aquaEnvironment"/>
                                    <idega:validator ev:event="idega-validate">
                                        <idega:message errorType="required"
                                            model="data_model" value="instance('localized_strings')/fbc_10_repeat_id_input_aquaEnvironment-required[@lang=instance('localized_strings')/current_language]"/>
                                    </idega:validator>
                                    
                                    <xf:action ev:event="xforms-value-changed">
                                    
                                        <xf:setvalue
                                            ref="../aquaEnvironmentOutput" 
                                            value="instance('fbc_23_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/farmStructure/list/row[index('fbc_10_repeat_id')]/aquaEnvironment]/itemLabel"/>
                                    
                                    </xf:action>
                                    
                                </xf:input>
                                
                                
                                <xf:input bind="sizeBind" id="fbc_10_repeat_id_input_size">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_10-col-size-label[@lang=instance('localized_strings')/current_language]"/>
                                    
                                    <xf:dispatch ev:event="xforms-value-changed"
                                        name="idega-validate" target="fbc_10_repeat_id_input_size"/>
                                    <idega:validator ev:event="idega-validate">
                                        <idega:message errorType="required"
                                            model="data_model" value="instance('localized_strings')/fbc_10_repeat_id_input_size-required[@lang=instance('localized_strings')/current_language]"/>
                                    </idega:validator>
                                    
                                    <xf:setvalue
                                            ev:event="xforms-value-changed"
                                            ref="instance('data-instance')/farmStructure/list/row[index('fbc_10_repeat_id')]/sizeOutput" 
                                            value="instance('data-instance')/farmStructure/list/row[index('fbc_10_repeat_id')]/size"/>
                                            
                                </xf:input>
                                
                                <xf:output bind="unitOutputBind" id="fbc_10_repeat_id_input_unitOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_10-col-unitOutput-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                            </xf:repeat>
                            <!-- 
                            <xf:output class="total" value="format-number(sum(table_fbc_38/list/row/cost_estimate), '###.###,##', 'european')">
                                <xf:label model="data_model" ref="instance('localized_strings')/table_1-total-label[@lang=instance('localized_strings')/current_language]"/>
                            </xf:output>
                             -->
                             <xf:alert ref="instance('error-instance')/error[@for='fbc_10']"/>
                        
                        </xf:group>
                        
                        
                        <!-- fished for on growing -->
                        <xf:group appereance="full" id="fbc_26">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_26-label[@lang=instance('localized_strings')/current_language]"/>
                              
                            <xf:dispatch ev:event="xforms-value-changed" name="idega-validate" target="fbc_26"/>

<!-- TODO                            
                            <idega:validator componentId="fbc_26" ev:event="idega-validate" validateif="string(sum(instance('data-instance')/fishedForOnGrowing/list/row/cost_estimate)) !='NaN'">
                                <idega:message errorType="custom" model="data_model" value="instance('localized_strings')/fbc_10-table-count-error[@lang=instance('localized_strings')/current_language]"/>
                            </idega:validator>
-->
                            
                            <xf:trigger class="insertRowButton fishedForOnGrowing" bind="fbc_26_trigger" id="fbc_27">
                                <xf:label model="data_model" ref="instance('localized_strings')/fbc_26-insert-label[@lang=instance('localized_strings')/current_language]"/>
                                <xf:action>
                                    <xf:insert at="last()" nodeset="../list/row" position="after"/>
                                </xf:action>
                            </xf:trigger>
                            <xf:trigger bind="fbc_26_trigger" id="fbc_28">
                                <xf:label model="data_model" ref="instance('localized_strings')/fbc_26-delete-label[@lang=instance('localized_strings')/current_language]"/>
                                <xf:action>
                                    <xf:delete at="last()-1" nodeset="../list/row"/>
                                </xf:action>
                            </xf:trigger>
                            <xf:repeat class="fishedForOnGrowing" appearance="compact" bind="fbc_26_bind" id="fbc_26_repeat_id">
                            
                                <xf:input id="fbc_26_repeat_id_input_speciesGroup" bind="speciesGroupBind_fbc_26" class="substitute substituteId-speciesGroup speciesGroup">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_26-col-speciesGroup-label[@lang=instance('localized_strings')/current_language]"/>
                                    
                                    <xf:dispatch ev:event="xforms-value-changed"
                                        name="idega-validate" target="fbc_26_repeat_id_input_speciesGroup"/>
                                    
                                    <xf:action ev:event="xforms-value-changed">
                                    
                                        <xf:setvalue
                                            ref="../speciesGroupOutput" 
                                            value="instance('fbc_13_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/fishedForOnGrowing/list/row[index('fbc_26_repeat_id')]/speciesGroup]/itemLabel"/>
                                    
                                    </xf:action>
                                    
                                </xf:input>
                                
                                
                                <xf:input id="fbc_26_repeat_id_input_species" bind="speciesBind_fbc_26" class="substitute substituteId-species species">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_26-col-species-label[@lang=instance('localized_strings')/current_language]"/>
                                    
                                    <xf:dispatch ev:event="xforms-value-changed"
                                        name="idega-validate" target="fbc_26_repeat_id_input_species"/>
                                    
                                    <xf:action ev:event="xforms-value-changed">
                                    
                                        <xf:setvalue
                                            ref="../speciesOutput" 
                                            value="instance('fbc_29_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/fishedForOnGrowing/list/row[index('fbc_26_repeat_id')]/species]/itemLabel"/>
                                               
                                    </xf:action>
                                    
                                </xf:input>
                                
                                <xf:input bind="count_fbc_26" id="fbc_26_repeat_id_input_count">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-col-count-label[@lang=instance('localized_strings')/current_language]"/>
                                    
                                    <xf:dispatch ev:event="xforms-value-changed"
                                        name="idega-validate" target="fbc_26_repeat_id_input_count"/>
                                    
                                    <xf:setvalue
                                            ev:event="xforms-value-changed"
                                            ref="instance('data-instance')/fishedForOnGrowing/list/row[index('fbc_26_repeat_id')]/countOutput" 
                                            value="instance('data-instance')/fishedForOnGrowing/list/row[index('fbc_26_repeat_id')]/count"/>
                                            
                                </xf:input>
                                
                                <xf:input bind="weightBind" id="fbc_26_repeat_id_input_weight">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_26-col-weight-label[@lang=instance('localized_strings')/current_language]"/>
                                    
                                    <xf:dispatch ev:event="xforms-value-changed"
                                        name="idega-validate" target="fbc_26_repeat_id_input_weight"/>
                                    
                                    <xf:setvalue
                                            ev:event="xforms-value-changed"
                                            ref="instance('data-instance')/fishedForOnGrowing/list/row[index('fbc_26_repeat_id')]/weightOutput" 
                                            value="instance('data-instance')/fishedForOnGrowing/list/row[index('fbc_26_repeat_id')]/weight"/>
                                            
                                </xf:input>
                                
                                <xf:input bind="kgBind" id="fbc_26_repeat_id_input_kg">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_26-col-kg-label[@lang=instance('localized_strings')/current_language]"/>
                                    
                                    <xf:dispatch ev:event="xforms-value-changed"
                                        name="idega-validate" target="fbc_26_repeat_id_input_kg"/>
                                    
                                    <xf:setvalue
                                            ev:event="xforms-value-changed"
                                            ref="instance('data-instance')/fishedForOnGrowing/list/row[index('fbc_26_repeat_id')]/kgOutput" 
                                            value="instance('data-instance')/fishedForOnGrowing/list/row[index('fbc_26_repeat_id')]/kg"/>
                                            
                                </xf:input>
                                
                            </xf:repeat>
                            
                             <xf:alert ref="instance('error-instance')/error[@for='fbc_26']"/>
                        
                        </xf:group>
                        
                        
                        <!-- sales -->
                        <xf:group appereance="full" id="fbc_43" class="smallerCells">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-label[@lang=instance('localized_strings')/current_language]"/>
                              
                            <xf:dispatch ev:event="xforms-value-changed" name="idega-validate" target="fbc_43"/>

<!-- TODO                            
                            <idega:validator componentId="fbc_43" ev:event="idega-validate" validateif="string(sum(instance('data-instance')/sales/list/row/cost_estimate)) !='NaN'">
                                <idega:message errorType="custom" model="data_model" value="instance('localized_strings')/fbc_10-table-count-error[@lang=instance('localized_strings')/current_language]"/>
                            </idega:validator>
-->
                            
                            <xf:trigger class="insertRowButton sales" bind="fbc_43_trigger" id="fbc_63">
                                <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-insert-label[@lang=instance('localized_strings')/current_language]"/>
                                <xf:action>
                                    <xf:insert at="last()" nodeset="../list/row" position="after"/>
                                </xf:action>
                            </xf:trigger>
                            <xf:trigger bind="fbc_43_trigger" id="fbc_64">
                                <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-delete-label[@lang=instance('localized_strings')/current_language]"/>
                                <xf:action>
                                    <xf:delete at="last()-1" nodeset="../list/row"/>
                                </xf:action>
                            </xf:trigger>
                            <div class="slideContent">
	                            <xf:repeat class="sales" appearance="compact" bind="fbc_43_bind" id="fbc_43_repeat_id">
	                            
	                                <xf:input id="fbc_43_repeat_id_input_speciesGroup" bind="speciesGroupBind_fbc_43" class="substitute substituteId-speciesGroup speciesGroup">
	                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-speciesGroup-label[@lang=instance('localized_strings')/current_language]"/>
	                                    
	                                    <xf:dispatch ev:event="xforms-value-changed"
	                                        name="idega-validate" target="fbc_43_repeat_id_input_speciesGroup"/>
	                                    <idega:validator ev:event="idega-validate">
	                                        <idega:message errorType="required"
	                                            model="data_model" value="instance('localized_strings')/fbc_43_repeat_id_input_speciesGroup-required[@lang=instance('localized_strings')/current_language]"/>
	                                    </idega:validator>
	                                    
	                                    <xf:action ev:event="xforms-value-changed">
	                                    
	                                        <xf:setvalue
	                                            ref="../speciesGroupOutput" 
	                                            value="instance('fbc_13_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/speciesGroup]/itemLabel"/>
	                                            
	                                        <xf:setvalue
	                                            ref="instance('data-instance')/tmpVal" 
	                                            value="instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/speciesGroup"/>
	                                            
	                                        <idega:setvalue
	                                            multiple="true()"
	                                            placeResponseDocument="true()"
	                                            ref="../quantityUnit" value="idega:resolveExpression('aquaCultureService.getQuantityUnitBySpeciesGroupIdForQuantity({0})', '#{instance(`data-instance`)/tmpVal}')"/>
	                                         
	                                        <idega:setvalue
	                                            multiple="true()"
	                                            placeResponseDocument="true()"
	                                            ref="../quantityUnitOutput" value="idega:resolveExpression('aquaCultureService.getQuantityUnitOutputBySpeciesGroupIdForQuantity({0})', '#{instance(`data-instance`)/tmpVal}')"/>
	                                            
	                                        <idega:setvalue
	                                            multiple="true()"
	                                            placeResponseDocument="true()"
	                                            ref="../priceUnit" value="idega:resolveExpression('aquaCultureService.getQuantityUnitBySpeciesGroupIdForPrice({0})', '#{instance(`data-instance`)/tmpVal}')"/>
	                                            
	                                        <idega:setvalue
	                                            multiple="true()"
	                                            placeResponseDocument="true()"
	                                            ref="../priceUnitOutput" value="idega:resolveExpression('aquaCultureService.getQuantityUnitOutputBySpeciesGroupIdForPrice({0})', '#{instance(`data-instance`)/tmpVal}')"/>
	                                    
	                                    </xf:action>
	                                    
	                                </xf:input>
	                                
	                                <xf:input id="fbc_43_repeat_id_input_aquamethod" bind="aquamethodBind_fbc_43" class="substitute substituteId-aquamethod aquamethod">
	                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-aquamethod-label[@lang=instance('localized_strings')/current_language]"/>
	                                    
	                                    <xf:dispatch ev:event="xforms-value-changed"
	                                        name="idega-validate" target="fbc_43_repeat_id_input_aquamethod"/>
	                                    <idega:validator ev:event="idega-validate">
	                                        <idega:message errorType="required"
	                                            model="data_model" value="instance('localized_strings')/fbc_43_repeat_id_input_aquamethod-required[@lang=instance('localized_strings')/current_language]"/>
	                                    </idega:validator>
	                                    
	                                    <xf:action ev:event="xforms-value-changed">
	                                    
	                                        <xf:setvalue
	                                            ref="../aquamethodOutput" 
	                                            value="instance('fbc_21_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/aquamethod]/itemLabel"/>
	                                    
	                                    </xf:action>
	                                    
	                                </xf:input>
	                                
	                                <xf:input id="fbc_43_repeat_id_input_aquaEnvironment" bind="aquaEnvironmentBind_fbc_43" class="substitute substituteId-aquaEnvironment aquaEnvironment">
	                                
		                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-aquaEnvironment-label[@lang=instance('localized_strings')/current_language]" />
	                                        
	                                        <xf:dispatch ev:event="xforms-value-changed"
	                                            name="idega-validate" target="fbc_43_repeat_id_input_aquaEnvironment"/>
	                                        <idega:validator ev:event="idega-validate">
	                                            <idega:message errorType="required"
	                                                model="data_model" value="instance('localized_strings')/fbc_43_repeat_id_input_aquaEnvironment-required[@lang=instance('localized_strings')/current_language]"/>
	                                        </idega:validator>
	                                        
	                                        <xf:action ev:event="xforms-value-changed">
	                                        
	                                            <xf:setvalue
	                                                ref="../aquaEnvironmentOutput" 
	                                                value="instance('fbc_23_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/aquaEnvironment]/itemLabel"/>
	                                        
	                                        </xf:action>
	                                        
	                                    </xf:input>
	
	                                <xf:input id="fbc_43_repeat_id_input_species" bind="speciesBind_fbc_43" class="substitute substituteId-species species">
	                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-species-label[@lang=instance('localized_strings')/current_language]"/>
	                                    
	                                    <xf:dispatch ev:event="xforms-value-changed"
	                                        name="idega-validate" target="fbc_43_repeat_id_input_species"/>
	                                    <idega:validator ev:event="idega-validate">
	                                        <idega:message errorType="required"
	                                            model="data_model" value="instance('localized_strings')/fbc_43_repeat_id_input_species-required[@lang=instance('localized_strings')/current_language]"/>
	                                    </idega:validator>
	                                    
	                                    <xf:action ev:event="xforms-value-changed">
	                                    
	                                        <xf:setvalue
	                                            ref="../speciesOutput" 
	                                            value="instance('fbc_29_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/species]/itemLabel"/>
	                                               
	                                    </xf:action>
	                                    
	                                </xf:input>
	                                
	                                <xf:input id="fbc_43_repeat_id_input_farminPurpose" bind="farminPurposeBind" class="substitute substituteId-farminPurpose farminPurpose">
	                                    
	                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-farminPurpose-label[@lang=instance('localized_strings')/current_language]" />
	                                    
	                                    <xf:dispatch ev:event="xforms-value-changed"
	                                        name="idega-validate" target="fbc_43_repeat_id_input_farminPurpose"/>
	                                    <idega:validator ev:event="idega-validate">
	                                        <idega:message errorType="required"
	                                            model="data_model" value="instance('localized_strings')/fbc_43_repeat_id_input_farminPurpose-required[@lang=instance('localized_strings')/current_language]"/>
	                                    </idega:validator>
	                                    
	                                    <xf:action ev:event="xforms-value-changed">
	                                    
	                                        <xf:setvalue
	                                            ref="../farminPurposeOutput" 
	                                            value="instance('fbc_44_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/farminPurpose]/itemLabel"/>
	                                               
	                                    </xf:action>
	                                    
	                                   </xf:input>
	                                   
	                                   <xf:input id="fbc_43_repeat_id_input_statusNow" bind="statusNowBind" class="substitute substituteId-statusNow statusNow">
	                                    
	                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-statusNow-label[@lang=instance('localized_strings')/current_language]" />
	                                    
	                                    <xf:dispatch ev:event="xforms-value-changed"
	                                        name="idega-validate" target="fbc_43_repeat_id_input_statusNow"/>
	                                    <idega:validator ev:event="idega-validate">
	                                        <idega:message errorType="required"
	                                            model="data_model" value="instance('localized_strings')/fbc_43_repeat_id_input_statusNow-required[@lang=instance('localized_strings')/current_language]"/>
	                                    </idega:validator>
	                                    
	                                    <xf:action ev:event="xforms-value-changed">
	                                    
	                                        <xf:setvalue
	                                            ref="../statusNowOutput" 
	                                            value="instance('fbc_45_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/statusNow]/itemLabel"/>
	                                               
	                                    </xf:action>
	                                    
	                                </xf:input>
	                                
	                                
	                                <xf:input bind="quantityBind_fbc_43" id="fbc_43_repeat_id_input_quantity">
	                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-quantity-label[@lang=instance('localized_strings')/current_language]"/>
	                                    
	                                    <xf:dispatch ev:event="xforms-value-changed"
	                                        name="idega-validate" target="fbc_43_repeat_id_input_quantity"/>
	                                    <idega:validator ev:event="idega-validate">
	                                        <idega:message errorType="required"
	                                            model="data_model" value="instance('localized_strings')/fbc_43_repeat_id_input_quantity-required[@lang=instance('localized_strings')/current_language]"/>
	                                    </idega:validator>
	                                    
	                                    <xf:setvalue
	                                            ev:event="xforms-value-changed"
	                                            ref="instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/quantityOutput" 
	                                            value="instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/quantity"/>
	                                            
	                                </xf:input>
	                                
	                                <xf:output bind="quantityUnitOutputBind" id="fbc_10_repeat_id_input_quantityUnitOutput" type="fbc_text_output">
	                                        <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-quantityUnitOutput-label[@lang=instance('localized_strings')/current_language]"/>
	                                </xf:output>
	                                
	                                <xf:input bind="priceBind" id="fbc_43_repeat_id_input_price">
	                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-price-label[@lang=instance('localized_strings')/current_language]"/>
	                                    
	                                    <xf:dispatch ev:event="xforms-value-changed"
	                                        name="idega-validate" target="fbc_43_repeat_id_input_price"/>
	                                    <idega:validator ev:event="idega-validate">
	                                        <idega:message errorType="required"
	                                            model="data_model" value="instance('localized_strings')/fbc_43_repeat_id_input_price-required[@lang=instance('localized_strings')/current_language]"/>
	                                    </idega:validator>
	                                    
	                                    <xf:setvalue
	                                            ev:event="xforms-value-changed"
	                                            ref="instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/priceOutput" 
	                                            value="instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/price"/>
	                                            
	                                </xf:input>
	                                
	                                <xf:output bind="priceUnitOutputBind" id="fbc_10_repeat_id_input_priceUnitOutput" type="fbc_text_output">
	                                        <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-priceUnitOutput-label[@lang=instance('localized_strings')/current_language]"/>
	                                </xf:output>
	                                
	                                <xf:output bind="valueBind" id="fbc_43_repeat_id_output_value" type="fbc_text_output">
	                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-value-label[@lang=instance('localized_strings')/current_language]"/>
	                                </xf:output>
	                                
	                                <xf:input id="fbc_43_repeat_id_input_soldTo" bind="soldToBind" class="substitute substituteId-soldTo soldTo">
	                                    
	                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-soldTo-label[@lang=instance('localized_strings')/current_language]" />
	                                    
	                                    <xf:dispatch ev:event="xforms-value-changed"
	                                        name="idega-validate" target="fbc_43_repeat_id_input_soldTo"/>
	                                    
	                                    <xf:action ev:event="xforms-value-changed">
	                                    
	                                        <xf:setvalue
	                                            ref="../soldToOutput" 
	                                            value="instance('fbc_46_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/soldTo]/itemLabel"/>
	                                               
	                                    </xf:action>
	                                    
	                                </xf:input>
	                                 
	                                 <xf:input bind="buyerSocialSecurityNrBind" id="fbc_43_repeat_id_input_buyerSocialSecurityNr">
	                                 
	                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-buyerSocialSecurityNr-label[@lang=instance('localized_strings')/current_language]" />
	                                    
	                                    <xf:dispatch ev:event="xforms-value-changed"
	                                        name="idega-validate" target="fbc_43_repeat_id_input_buyerSocialSecurityNr"/>
	                                    
	                                    <xf:setvalue
	                                            ev:event="xforms-value-changed"
	                                            ref="instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/buyerSocialSecurityNrOutput" 
	                                            value="instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/buyerSocialSecurityNr"/>
	                                            
	                                    <idega:setvalue
			                                    ev:event="xforms-value-changed"
			                                    ref="instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/buyerName"
			                                    value="idega:resolveExpression('aquaCultureService.getBuyersName({0})', '#{instance(`data-instance`)/sales/list/row[index(`fbc_43_repeat_id`)]/buyerSocialSecurityNr}')"/>
	                                    
	                                    <idega:setvalue
			                                    ev:event="xforms-value-changed"
			                                    ref="instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/buyerNameOutput"
			                                    value="idega:resolveExpression('aquaCultureService.getBuyersName({0})', '#{instance(`data-instance`)/sales/list/row[index(`fbc_43_repeat_id`)]/buyerSocialSecurityNr}')"/>
	                                    
	                                </xf:input>
	                                
	                                <xf:input bind="buyerNameBind" id="fbc_43_repeat_id_input_buyerName">
	                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-buyerName-label[@lang=instance('localized_strings')/current_language]"/>
	                                    
	                                    <xf:dispatch ev:event="xforms-value-changed"
	                                        name="idega-validate" target="fbc_43_repeat_id_input_buyerName"/>
	                                    
	                                    <xf:setvalue
	                                            ev:event="xforms-value-changed"
	                                            ref="instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/buyerNameOutput" 
	                                            value="instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/buyerName"/>
	                                            
	                                </xf:input>
	                                
	                                <xf:input id="fbc_43_repeat_id_input_fishFarm" bind="fishFarmBind" class="substitute substituteId-fishFarm fishFarm">
	                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-fishFarm-label[@lang=instance('localized_strings')/current_language]"/>
	                                    
	                                    <xf:action ev:event="xforms-value-changed">
	                                        <xf:setvalue
	                                            ref="../fishFarmOutput" 
	                                            value="instance('fbc_47_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/sales/list/row[index('fbc_43_repeat_id')]/fishFarm]/itemLabel"/>
	                                    </xf:action>
	                                    
	                                </xf:input>
	                                
	                            </xf:repeat>
							</div>                            
                             <xf:alert ref="instance('error-instance')/error[@for='fbc_43']"/>
                        
                        </xf:group>
                        
                        <xf:output bind="salesValuesSumBind" id="fbc_65" type="fbc_text_output">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_65-label[@lang=instance('localized_strings')/current_language]"/>
                        </xf:output>
                        
                        <xf:textarea bind="salesCommentsBind" id="fbc_67">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_67-label[@lang=instance('localized_strings')/current_language]"/>
                        </xf:textarea>
                        
                        <!-- inventory at year end -->
                        <xf:group appereance="full" id="fbc_69" class="smallerCells">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_69-label[@lang=instance('localized_strings')/current_language]"/>
                              
                            <xf:dispatch ev:event="xforms-value-changed" name="idega-validate" target="fbc_69"/>

<!-- TODO                            
                            <idega:validator componentId="fbc_69" ev:event="idega-validate" validateif="string(sum(instance('data-instance')/inventoryAtYearEnd/list/row/cost_estimate)) !='NaN'">
                                <idega:message errorType="custom" model="data_model" value="instance('localized_strings')/fbc_10-table-count-error[@lang=instance('localized_strings')/current_language]"/>
                            </idega:validator>
-->
                            
                            <xf:trigger class="insertRowButton inventoryAtYearEnd" bind="fbc_69_trigger" id="fbc_70">
                                <xf:label model="data_model" ref="instance('localized_strings')/fbc_69-insert-label[@lang=instance('localized_strings')/current_language]"/>
                                <xf:action>
                                    <xf:insert at="last()" nodeset="../list/row" position="after"/>
                                </xf:action>
                            </xf:trigger>
                            <xf:trigger bind="fbc_69_trigger" id="fbc_71">
                                <xf:label model="data_model" ref="instance('localized_strings')/fbc_69-delete-label[@lang=instance('localized_strings')/current_language]"/>
                                <xf:action>
                                    <xf:delete at="last()-1" nodeset="../list/row"/>
                                </xf:action>
                            </xf:trigger>
                            <xf:repeat class="inventoryAtYearEnd" appearance="compact" bind="fbc_69_bind" id="fbc_69_repeat_id">
                            
                                <xf:input id="fbc_69_repeat_id_input_speciesGroup" bind="speciesGroupBind_fbc_69" class="substitute substituteId-speciesGroup speciesGroup">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_69-col-speciesGroup-label[@lang=instance('localized_strings')/current_language]"/>
                                    
                                    <xf:dispatch ev:event="xforms-value-changed"
                                        name="idega-validate" target="fbc_69_repeat_id_input_speciesGroup"/>
                                    <idega:validator ev:event="idega-validate">
                                        <idega:message errorType="required"
                                            model="data_model" value="instance('localized_strings')/fbc_69_repeat_id_input_speciesGroup-required[@lang=instance('localized_strings')/current_language]"/>
                                    </idega:validator>
                                    
                                    <xf:action ev:event="xforms-value-changed">
                                    
                                        <xf:setvalue
                                            ref="../speciesGroupOutput" 
                                            value="instance('fbc_13_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/inventoryAtYearEnd/list/row[index('fbc_69_repeat_id')]/speciesGroup]/itemLabel"/>
                                            
                                        <xf:setvalue
                                            ref="instance('data-instance')/tmpVal" 
                                            value="instance('data-instance')/inventoryAtYearEnd/list/row[index('fbc_69_repeat_id')]/speciesGroup"/>
                                            
                                        <idega:setvalue
                                            multiple="true()"
                                            placeResponseDocument="true()"
                                            ref="../quantityUnit" value="idega:resolveExpression('aquaCultureService.getQuantityUnitBySpeciesGroupIdForQuantity({0})', '#{instance(`data-instance`)/tmpVal}')"/>
                                         
                                        <idega:setvalue
                                            multiple="true()"
                                            placeResponseDocument="true()"
                                            ref="../quantityUnitOutput" value="idega:resolveExpression('aquaCultureService.getQuantityUnitOutputBySpeciesGroupIdForQuantity({0})', '#{instance(`data-instance`)/tmpVal}')"/>
                                    
                                    </xf:action>
                                    
                                </xf:input>
                                
                                
                                <xf:input id="fbc_69_repeat_id_input_species" bind="speciesBind_fbc_69" class="substitute substituteId-species species">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_69-col-species-label[@lang=instance('localized_strings')/current_language]"/>
                                    
                                    <xf:dispatch ev:event="xforms-value-changed"
                                        name="idega-validate" target="fbc_69_repeat_id_input_species"/>
                                    <idega:validator ev:event="idega-validate">
                                        <idega:message errorType="required"
                                            model="data_model" value="instance('localized_strings')/fbc_69_repeat_id_input_species-required[@lang=instance('localized_strings')/current_language]"/>
                                    </idega:validator>
                                    
                                    <xf:action ev:event="xforms-value-changed">
                                    
                                        <xf:setvalue
                                            ref="../speciesOutput" 
                                            value="instance('fbc_29_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/inventoryAtYearEnd/list/row[index('fbc_69_repeat_id')]/species]/itemLabel"/>
                                               
                                    </xf:action>
                                    
                                </xf:input>
                                
                                
                                <xf:input bind="quantityBind_fbc_69" id="fbc_69_repeat_id_input_quantity">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_69-col-quantity-label[@lang=instance('localized_strings')/current_language]"/>
                                    
                                    <xf:dispatch ev:event="xforms-value-changed"
                                        name="idega-validate" target="fbc_69_repeat_id_input_quantity"/>
                                    <idega:validator ev:event="idega-validate">
                                        <idega:message errorType="required"
                                            model="data_model" value="instance('localized_strings')/fbc_69_repeat_id_input_quantity-required[@lang=instance('localized_strings')/current_language]"/>
                                    </idega:validator>
                                    
                                    <xf:setvalue
                                            ev:event="xforms-value-changed"
                                            ref="instance('data-instance')/inventoryAtYearEnd/list/row[index('fbc_69_repeat_id')]/quantityOutput" 
                                            value="instance('data-instance')/inventoryAtYearEnd/list/row[index('fbc_69_repeat_id')]/quantity"/>
                                            
                                </xf:input>
                                
                                <xf:output bind="quantityUnitOutputBind_fbc_69" id="fbc_69_repeat_id_input_quantityUnitOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_69-col-quantityUnitOutput-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                
                                <xf:textarea bind="commentsBind_fbc_69" id="fbc_69_repeat_id_input_comments">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_69-col-comments-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:textarea>
                                
                            </xf:repeat>
                            
                             <xf:alert ref="instance('error-instance')/error[@for='fbc_69']"/>
                        
                        </xf:group>
                        
                        
                        <!-- expected quantity produced -->
                        <xf:group appereance="full" id="fbc_78" class="smallerCells">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-label[@lang=instance('localized_strings')/current_language]"/>
                              
                            <xf:dispatch ev:event="xforms-value-changed" name="idega-validate" target="fbc_78"/>

<!-- TODO                            
                            <idega:validator componentId="fbc_78" ev:event="idega-validate" validateif="string(sum(instance('data-instance')/expectedQuantityProduced/list/row/cost_estimate)) !='NaN'">
                                <idega:message errorType="custom" model="data_model" value="instance('localized_strings')/fbc_10-table-count-error[@lang=instance('localized_strings')/current_language]"/>
                            </idega:validator>
-->
                            
                            <xf:trigger class="insertRowButton expectedQuantityProduced" bind="fbc_78_trigger" id="fbc_79">
                                <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-insert-label[@lang=instance('localized_strings')/current_language]"/>
                                <xf:action>
                                    <xf:insert at="last()" nodeset="../list/row" position="after"/>
                                </xf:action>
                            </xf:trigger>
                            <xf:trigger bind="fbc_78_trigger" id="fbc_80">
                                <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-delete-label[@lang=instance('localized_strings')/current_language]"/>
                                <xf:action>
                                    <xf:delete at="last()-1" nodeset="../list/row"/>
                                </xf:action>
                            </xf:trigger>
                            <xf:repeat class="expectedQuantityProduced" appearance="compact" bind="fbc_78_bind" id="fbc_78_repeat_id">
                            
                                <xf:input id="fbc_78_repeat_id_input_speciesGroup" bind="speciesGroupBind_fbc_78" class="substitute substituteId-speciesGroup speciesGroup">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-col-speciesGroup-label[@lang=instance('localized_strings')/current_language]"/>
                                    
                                    <xf:dispatch ev:event="xforms-value-changed"
                                        name="idega-validate" target="fbc_78_repeat_id_input_speciesGroup"/>

                                    <xf:action ev:event="xforms-value-changed">
                                    
                                        <xf:setvalue
                                            ref="../speciesGroupOutput" 
                                            value="instance('fbc_13_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/expectedQuantityProduced/list/row[index('fbc_78_repeat_id')]/speciesGroup]/itemLabel"/>
                                            
                                        <xf:setvalue
                                            ref="instance('data-instance')/tmpVal" 
                                            value="instance('data-instance')/expectedQuantityProduced/list/row[index('fbc_78_repeat_id')]/speciesGroup"/>
                                            
                                        <idega:setvalue
                                            multiple="true()"
                                            placeResponseDocument="true()"
                                            ref="../quantityUnit" value="idega:resolveExpression('aquaCultureService.getQuantityUnitBySpeciesGroupIdForQuantity({0})', '#{instance(`data-instance`)/tmpVal}')"/>
                                         
                                        <idega:setvalue
                                            multiple="true()"
                                            placeResponseDocument="true()"
                                            ref="../quantityUnitOutput" value="idega:resolveExpression('aquaCultureService.getQuantityUnitOutputBySpeciesGroupIdForQuantity({0})', '#{instance(`data-instance`)/tmpVal}')"/>
                                    
                                    </xf:action>
                                    
                                </xf:input>
                                
                                
                                <xf:input id="fbc_78_repeat_id_input_species" bind="speciesBind_fbc_78" class="substitute substituteId-species species">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-col-species-label[@lang=instance('localized_strings')/current_language]"/>
                                    
                                    <xf:dispatch ev:event="xforms-value-changed"
                                        name="idega-validate" target="fbc_78_repeat_id_input_species"/>
                                    
                                    <xf:action ev:event="xforms-value-changed">
                                    
                                        <xf:setvalue
                                            ref="../speciesOutput" 
                                            value="instance('fbc_29_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item[./itemValue=instance('data-instance')/expectedQuantityProduced/list/row[index('fbc_78_repeat_id')]/species]/itemLabel"/>
                                               
                                    </xf:action>
                                    
                                </xf:input>
                                
                                
                                <xf:input bind="quantityBind_fbc_78" id="fbc_78_repeat_id_input_quantity">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-col-quantity-label[@lang=instance('localized_strings')/current_language]"/>
                                    
                                    <xf:dispatch ev:event="xforms-value-changed"
                                        name="idega-validate" target="fbc_78_repeat_id_input_quantity"/>
                                    
                                    <xf:setvalue
                                            ev:event="xforms-value-changed"
                                            ref="instance('data-instance')/expectedQuantityProduced/list/row[index('fbc_78_repeat_id')]/quantityOutput" 
                                            value="instance('data-instance')/expectedQuantityProduced/list/row[index('fbc_78_repeat_id')]/quantity"/>
                                            
                                </xf:input>
                                
                                <xf:output bind="quantityUnitOutputBind_fbc_78" id="fbc_78_repeat_id_input_quantityUnitOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-col-quantityUnitOutput-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                
                                <xf:textarea bind="commentsBind_fbc_78" id="fbc_78_repeat_id_input_comments">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-col-comments-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:textarea>
                                
                            </xf:repeat>
                            
                             <xf:alert ref="instance('error-instance')/error[@for='fbc_78']"/>
                        
                        </xf:group>
                    
                        <div class="fbc_button_area" id="fbc_2" type="fbc_button_area">
                            <xf:trigger bind="bind-controlsButton"
                                id="fbc_18" type="fbc_button_next">
                                <xf:label model="data_model" ref="instance('localized_strings')/fbc_18-label[@lang=instance('localized_strings')/current_language]"/>
                                <idega:toggle case="fbc_17" ev:event="DOMActivate"/>
                            </xf:trigger>
                        </div>
                        
                        <div style="display: none;" class="selectorItems speciesGroup">
                            <xf:select1 appearance="minimal"
                                id="fbc_13" type="fbc_single_select_minimal">
                                <xf:itemset model="data_model" nodeset="instance('fbc_13_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item">
                                    <xf:label ref="itemLabel"/>
                                    <xf:value ref="itemValue"/>
                                </xf:itemset>
                            </xf:select1>
                        </div>
                        <div style="display: none;" class="selectorItems aquamethod">
                            <xf:select1 appearance="minimal"
                                id="fbc_21" type="fbc_single_select_minimal">
                                <xf:itemset model="data_model" nodeset="instance('fbc_21_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item">
                                    <xf:label ref="itemLabel"/>
                                    <xf:value ref="itemValue"/>
                                </xf:itemset>
                            </xf:select1>
                        </div>
                        <div style="display: none;" class="selectorItems aquaEnvironment">
                            <xf:select1 appearance="minimal"
                                id="fbc_23" type="fbc_single_select_minimal">
                                <xf:itemset model="data_model" nodeset="instance('fbc_23_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item">
                                    <xf:label ref="itemLabel"/>
                                    <xf:value ref="itemValue"/>
                                </xf:itemset>
                            </xf:select1>
                        </div>
                        <div style="display: none;" class="selectorItems species">
                            <xf:select1 appearance="minimal"
                                id="fbc_29" type="fbc_single_select_minimal">
                                <xf:itemset model="data_model" nodeset="instance('fbc_29_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item">
                                    <xf:label ref="itemLabel"/>
                                    <xf:value ref="itemValue"/>
                                </xf:itemset>
                            </xf:select1>
                        </div>
                        <div style="display: none;" class="selectorItems farminPurpose">
                            <xf:select1 appearance="minimal"
                                id="fbc_44" type="fbc_single_select_minimal">
                                <xf:itemset model="data_model" nodeset="instance('fbc_44_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item">
                                    <xf:label ref="itemLabel"/>
                                    <xf:value ref="itemValue"/>
                                </xf:itemset>
                            </xf:select1>
                        </div>
                        <div style="display: none;" class="selectorItems statusNow">
                            <xf:select1 appearance="minimal"
                                id="fbc_45" type="fbc_single_select_minimal">
                                <xf:itemset model="data_model" nodeset="instance('fbc_45_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item">
                                    <xf:label ref="itemLabel"/>
                                    <xf:value ref="itemValue"/>
                                </xf:itemset>
                            </xf:select1>
                        </div>
                        <div style="display: none;" class="selectorItems soldTo">
                            <xf:select1 appearance="minimal"
                                id="fbc_46" type="fbc_single_select_minimal">
                                <xf:itemset model="data_model" nodeset="instance('fbc_46_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item">
                                    <xf:label ref="itemLabel"/>
                                    <xf:value ref="itemValue"/>
                                </xf:itemset>
                            </xf:select1>
                        </div>
                        <div style="display: none;" class="selectorItems fishFarm">
                            <xf:select1 appearance="minimal"
                                id="fbc_47" type="fbc_single_select_minimal">
                                <xf:itemset model="data_model" nodeset="instance('fbc_47_lds')/localizedEntries[@lang=instance('localized_strings')/current_language]/item">
                                    <xf:label ref="itemLabel"/>
                                    <xf:value ref="itemValue"/>
                                </xf:itemset>
                            </xf:select1>
                        </div>
                        
                    </xf:group>
                </idega:case>
                <idega:case id="fbc_17" show="instance('control-instance')/generatePdf='true'">
                
                
                        <xf:output bind="fbc_5_bind" id="fbc_38" type="fbc_text_output">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_5-label[@lang=instance('localized_strings')/current_language]"/>
                        </xf:output>
                        <xf:output bind="fbc_6_bind" id="fbc_39" type="fbc_text_output">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_6-label[@lang=instance('localized_strings')/current_language]"/>
                        </xf:output>
                        <xf:output bind="fbc_7_bind" id="fbc_40" type="fbc_text_output">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_7-label[@lang=instance('localized_strings')/current_language]"/>
                        </xf:output>
                        
                        <xf:output bind="fbc_8_bind" id="fbc_41" type="fbc_text_output">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_8-label[@lang=instance('localized_strings')/current_language]"/>
                        </xf:output>
                        
                        <xf:output bind="fbc_42_bind" id="fbc_42" type="fbc_text_output">
                            <xf:label model="data_model" ref="instance('localized_strings')/fbc_9-label[@lang=instance('localized_strings')/current_language]"/>
                        </xf:output>
                        
                
                <xf:group appereance="full" id="fbc_37">
                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_10-label[@lang=instance('localized_strings')/current_language]"/>
                    <xf:repeat appearance="compact" bind="fbc_10_bind" id="fbc_14_repeat_id">
                            
                                <xf:output id="fbc_15"
                                    ref="./speciesGroupOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_10-col-speciesGroup-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_22"
                                    ref="./aquamethodOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_10-col-aquamethod-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_24"
                                    ref="./aquaEnvironmentOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_10-col-aquaEnvironment-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_16"
                                    ref="./sizeOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_10-col-size-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_25" 
                                    ref="./unitOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_10-col-unitOutput-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                
                    </xf:repeat>
                </xf:group>
                
                <xf:group appereance="full" id="fbc_36">
                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_26-label[@lang=instance('localized_strings')/current_language]"/>    
                    <xf:repeat appearance="compact" bind="fbc_26_bind" id="fbc_30_repeat_id">
                            
                                <xf:output id="fbc_31"
                                    ref="./speciesGroupOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_26-col-speciesGroup-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_32"
                                    ref="./speciesOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_26-col-species-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_84a"
                                    ref="./countOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-col-count-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_34"
                                    ref="./weightOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_26-col-weight-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_35" 
                                    ref="./kgOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_26-col-kg-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                
                    </xf:repeat>
                </xf:group>
                
                <xf:group appereance="full" id="fbc_47">
                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-label[@lang=instance('localized_strings')/current_language]"/>    
                    <div class="slideContent">
	                    <xf:repeat appearance="compact" bind="fbc_43_bind" id="fbc_48_repeat_id">
                            
                                <xf:output id="fbc_49"
                                    ref="./speciesGroupOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-speciesGroup-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_50"
                                    ref="./aquamethodOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-aquamethod-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_51"
                                    ref="./aquaEnvironmentOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-aquaEnvironment-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_52"
                                    ref="./speciesOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-species-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_53"
                                    ref="./farminPurposeOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-farminPurpose-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_54"
                                    ref="./statusNowOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-statusNow-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_56"
                                    ref="./quantityOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-quantity-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_57"
                                    ref="./quantityUnitOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-quantityUnitOutput-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_58"
                                    ref="./priceOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-price-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_59"
                                    ref="./priceUnitOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-priceUnitOutput-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_60"
                                    ref="./value" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-value-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_55"
                                    ref="./soldToOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-soldTo-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_61"
                                    ref="./buyerSocialSecurityNrOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-buyerSocialSecurityNr-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_62"
                                    ref="./buyerNameOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-buyerName-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_62a"
                                    ref="./fishFarmOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_43-col-fishFarm-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
	                    </xf:repeat>
	                </div>
                </xf:group>
                
                <xf:output bind="salesValuesSumBind" id="fbc_66" type="fbc_text_output">
                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_65-label[@lang=instance('localized_strings')/current_language]"/>
                </xf:output>
                <xf:output bind="salesCommentsBind" id="fbc_68" type="fbc_text_output">
                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_67-label[@lang=instance('localized_strings')/current_language]"/>
                </xf:output>
                
                <xf:group appereance="full" id="fbc_72">
                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_69-label[@lang=instance('localized_strings')/current_language]"/>    
                    <xf:repeat appearance="compact" bind="fbc_69_bind" id="fbc_72_repeat_id">
                            
                                <xf:output id="fbc_73"
                                    ref="./speciesGroupOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_69-col-speciesGroup-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_74"
                                    ref="./speciesOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_69-col-species-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_75"
                                    ref="./quantityOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_69-col-quantity-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_76"
                                    ref="./quantityUnitOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_69-col-quantityUnitOutput-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_77"
                                    ref="./comments" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_69-col-comments-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                    </xf:repeat>
                </xf:group>
                
                <xf:group appereance="full" id="fbc_81">
                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-label[@lang=instance('localized_strings')/current_language]"/>    
                    <xf:repeat appearance="compact" bind="fbc_78_bind" id="fbc_81_repeat_id">
                            
                                <xf:output id="fbc_82"
                                    ref="./speciesGroupOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-col-speciesGroup-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_83"
                                    ref="./speciesOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-col-species-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_84"
                                    ref="./quantityOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-col-quantity-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_85"
                                    ref="./quantityUnitOutput" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-col-quantityUnitOutput-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                                <xf:output id="fbc_86"
                                    ref="./comments" type="fbc_text_output">
                                    <xf:label model="data_model" ref="instance('localized_strings')/fbc_78-col-comments-label[@lang=instance('localized_strings')/current_language]"/>
                                </xf:output>
                    </xf:repeat>
                </xf:group>
                    
                    <div class="fbc_button_area" id="fbc_19" type="fbc_button_area">
                    
                            <xf:trigger bind="bind-controlsButton"
                                id="fbc_20" type="fbc_button_previous">
                                <xf:label model="data_model" ref="instance('localized_strings')/fbc_20-label[@lang=instance('localized_strings')/current_language]"/>
                                <idega:toggle case="fbc_1" ev:event="DOMActivate"/>
                            </xf:trigger>
                    
                            <xf:trigger bind="bind-submissionButton"
                                class="fbc_button_submit" id="fbc_3" type="fbc_button_submit">
                                <xf:label model="data_model" ref="instance('localized_strings')/page-1-submit_button-label[@lang=instance('localized_strings')/current_language]"/>
                                <xf:action ev:event="DOMActivate">
                                    <xf:setvalue
                                    ref="instance('control-instance')/submission" value="'true'"/>
                                    <idega:dispatch
                                    name="idega-validate" target="//h:body//*[starts-with(@id, 'fbc_')]"/>
                                    <xf:dispatch name="xforms-rebuild" target="data_model"/>
                                    <xf:dispatch
                                    name="xforms-recalculate" target="data_model"/>
                                    <xf:dispatch
                                    name="xforms-revalidate" target="data_model"/>
                                    <xf:dispatch name="xforms-refresh" target="data_model"/>
                                    <xf:action if="count-non-empty(instance('error-instance')/error)=0">
                                    <xf:send submission="submit_data_submission"/>
                                    </xf:action>
                                    <xf:dispatch
                                    if="count-non-empty(instance('error-instance')/error)!=0"
                                    name="idega-submit-error" target="idega-submission-error"/>
                                </xf:action>
                            </xf:trigger>
                        </div>
                
                </idega:case>
                <idega:case id="fbc_4" type="thx_page">
                    <xf:group appearance="full" class="thx_page">
                        <xf:label model="data_model" ref="instance('localized_strings')/page-2-label[@lang=instance('localized_strings')/current_language]"/>
                        <xf:output model="data_model" ref="instance('localized_strings')/submission-success_message[@lang=instance('localized_strings')/current_language]"/>
                    </xf:group>
                </idega:case>
            </idega:switch>
        </xf:group>
    </body>
</html>
